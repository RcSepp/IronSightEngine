<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Iron Sight Engine: include/ISD3D9.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>include/ISD3D9.h</h1><a href="_i_s_d3_d9_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef __ISD3D9_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define __ISD3D9_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;<a class="code" href="_i_s_engine_8h.html">ISEngine.h</a>&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="code" href="_i_s_direct3_d_8h.html">ISDirect3D.h</a>&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;..\\global\\HResult.h&quot;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00010"></a>00010 <span class="comment">// Name: OutputWindow9</span>
<a name="l00011"></a>00011 <span class="comment">// Desc: Interface to a single Direct3D 9 output</span>
<a name="l00012"></a>00012 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00013"></a><a class="code" href="class_output_window9.html">00013</a> <span class="keyword">class </span><a class="code" href="class_output_window9.html">OutputWindow9</a> : <span class="keyword">public</span> <a class="code" href="class_output_window.html">OutputWindow</a>
<a name="l00014"></a>00014 {
<a name="l00015"></a>00015 <span class="keyword">private</span>:
<a name="l00016"></a>00016         UINT displayadapter;
<a name="l00017"></a>00017         <span class="keywordtype">bool</span> devicelost;
<a name="l00018"></a>00018         LPDIRECT3DSWAPCHAIN9 swapchain;
<a name="l00019"></a>00019         HWND wnd;
<a name="l00020"></a>00020         <span class="comment">// Screenshot</span>
<a name="l00021"></a>00021         <span class="keywordtype">bool</span> takescreenshot;
<a name="l00022"></a>00022         <a class="code" href="class_file_path.html">FilePath</a> screenshotfilename;
<a name="l00023"></a>00023         D3DX_IMAGE_FILEFORMAT screenshotfileformat;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025         <a class="code" href="struct_result.html">Result</a> CreatePresentParams(LPDIRECT3D9 d3d9, HWND wnd, <span class="keywordtype">bool</span> enablemultisampling, D3DPRESENT_PARAMETERS* <a class="code" href="class_output_window9.html#aa5c56211d5c744bbcbe611eaaa794b50">pparams</a>);
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">public</span>:
<a name="l00028"></a><a class="code" href="class_output_window9.html#aa5c56211d5c744bbcbe611eaaa794b50">00028</a>         D3DPRESENT_PARAMETERS pparams;
<a name="l00029"></a><a class="code" href="class_output_window9.html#a03278f1693899756fa96001bf82bed46">00029</a>         LPD3DXSPRITE <a class="code" href="class_output_window9.html#a03278f1693899756fa96001bf82bed46">sprite</a>;
<a name="l00030"></a><a class="code" href="class_output_window9.html#a4c737067c8814c692edc2fb3f75e2683">00030</a>         LPD3DXFONT <a class="code" href="class_output_window9.html#a4c737067c8814c692edc2fb3f75e2683">fnt</a>;
<a name="l00031"></a><a class="code" href="class_output_window9.html#ab41a61be1b865fdf2fd6b30e97de7a74">00031</a>         <span class="keywordtype">float</span> <a class="code" href="class_output_window9.html#ab41a61be1b865fdf2fd6b30e97de7a74">clipnear</a>, <a class="code" href="class_output_window9.html#afc8e81e1501f6ad56c4f69fc935d858f">clipfar</a>; <span class="comment">// EDIT: Move to camera</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033         <a class="code" href="class_output_window9.html#aedc535566480444110fea2ae20053229">OutputWindow9</a>();
<a name="l00034"></a>00034         <a class="code" href="class_output_window9.html#a63ae1b6ed1c03c052f7830d667a22ff0">~OutputWindow9</a>();
<a name="l00035"></a>00035 
<a name="l00036"></a>00036         <a class="code" href="struct_result.html">Result</a> <a class="code" href="class_output_window9.html#a58aa65a5366bbc6b3b75830d98316669">CreateDevice</a>(LPDIRECT3D9 d3d9, UINT displayadapter, <a class="code" href="struct_size.html">Size&lt;DWORD&gt;</a> backbuffersize, HWND wnd, <span class="keywordtype">bool</span> enablemultisampling);
<a name="l00037"></a>00037         <a class="code" href="struct_result.html">Result</a> <a class="code" href="class_output_window9.html#adb408b099af2fad44432e368b596e17b">AdoptDevice</a>(LPDIRECT3D9 d3d9, UINT displayadapter, <a class="code" href="struct_size.html">Size&lt;DWORD&gt;</a> backbuffersize, HWND wnd, <span class="keywordtype">bool</span> enablemultisampling,
<a name="l00038"></a>00038                                            <a class="code" href="class_output_window9.html">OutputWindow9</a>* sourcewnd);
<a name="l00039"></a>00039         <span class="keywordtype">void</span> <a class="code" href="class_output_window9.html#a1f8a441029bdb05e8e04dcad7bf9dfa5">OnReset</a>();
<a name="l00040"></a>00040         <span class="keywordtype">void</span> <a class="code" href="class_output_window9.html#a9461eb986c5c246e2bf22dfa2d6622a0">Update</a>();
<a name="l00041"></a>00041         <a class="code" href="struct_result.html">Result</a> <a class="code" href="class_output_window9.html#aeea26efb4979d8378f5f14d674e63e86">Render</a>();
<a name="l00042"></a>00042         <span class="keywordtype">bool</span> <a class="code" href="class_output_window9.html#a008c6dd45008e175af2325f4ffb3cab3">Idle</a>();
<a name="l00043"></a>00043         <span class="keywordtype">void</span> <a class="code" href="class_output_window9.html#a29e2a566d83c727f188b2d3e87e80cef">DispFps</a>();
<a name="l00044"></a>00044         <span class="keywordtype">void</span> <a class="code" href="class_output_window9.html#a1c29365c9308e76f47482f7a75635e14">TakeScreenShot</a>(<a class="code" href="class_file_path.html">FilePath</a> filename, D3DX_IMAGE_FILEFORMAT fileformat);
<a name="l00045"></a>00045 };
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00048"></a>00048 <span class="comment">// Name: Direct3D9</span>
<a name="l00049"></a>00049 <span class="comment">// Desc: Direct3D 9 interface</span>
<a name="l00050"></a>00050 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00051"></a><a class="code" href="class_direct3_d9.html">00051</a> <span class="keyword">class </span><a class="code" href="class_direct3_d9.html">Direct3D9</a> : <span class="keyword">public</span> <a class="code" href="class_direct3_d.html">Direct3D</a>
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053 <span class="keyword">private</span>:
<a name="l00054"></a>00054         <a class="code" href="class_output_window9.html">OutputWindow9</a> **wnds, ***cptrwnds;
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">public</span>:
<a name="l00057"></a><a class="code" href="class_direct3_d9.html#ad41753a062c4618951ebc85375c58b52">00057</a>         LPDIRECT3D9 <a class="code" href="class_direct3_d9.html#ad41753a062c4618951ebc85375c58b52">d3d9</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="class_direct3_d9.html#af9f82f122c62a93e30aae0c686a3de89">00059</a>         __forceinline <span class="keywordtype">void</span> <a class="code" href="class_direct3_d9.html#a12a6f6b80f1d8065e76a60d11bd39495">OnReset</a>(<span class="keywordtype">int</span> index)
<a name="l00060"></a>00060                 {<span class="keywordflow">if</span>(index &lt; <a class="code" href="class_direct3_d.html#ac2fa10de0c103d8dc0bcec963bd64452">numwnds</a>) wnds[index]-&gt;<a class="code" href="class_output_window9.html#a1f8a441029bdb05e8e04dcad7bf9dfa5">OnReset</a>();}
<a name="l00061"></a><a class="code" href="class_direct3_d9.html#a23ff4819dbbd1a83d39d8394d752a6cc">00061</a> __forceinline LPD3DDEVICE <a class="code" href="class_direct3_d9.html#a23ff4819dbbd1a83d39d8394d752a6cc">GetDevice</a>(<span class="keywordtype">int</span> index)
<a name="l00062"></a>00062         {<span class="keywordflow">return</span> index &lt; <a class="code" href="class_direct3_d.html#ac2fa10de0c103d8dc0bcec963bd64452">numwnds</a> ? wnds[index]-&gt;GetDevice() : NULL;}
<a name="l00063"></a>00063 
<a name="l00064"></a>00064         <a class="code" href="struct_result.html">Result</a> <a class="code" href="class_direct3_d9.html#aee92739f1d9f53e3f34a01623aca3cb2">InitDerived</a>(<span class="keyword">const</span> StartupSettings* settings);
<a name="l00065"></a>00065         <a class="code" href="struct_result.html">Result</a> <a class="code" href="class_direct3_d9.html#a67aacc3f7cab49a43860376931a0bd47">CreateOutputWindow</a>(<span class="keyword">const</span> OutputSettings* settings, <span class="keywordtype">int</span> screenidx);
<a name="l00066"></a>00066         <span class="keywordtype">void</span> <a class="code" href="class_direct3_d9.html#a12a6f6b80f1d8065e76a60d11bd39495">OnReset</a>();
<a name="l00067"></a>00067         <span class="keywordtype">void</span> <a class="code" href="class_direct3_d9.html#a4ad6bf152659f812e7e967bcd20f0d4f">ReleaseDerived</a>();
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         <a class="code" href="class_direct3_d9.html#ad3001b7d68b99c55e285d17fb6875988">Direct3D9</a>();
<a name="l00070"></a>00070 };
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Jun 14 11:03:53 2010 for Iron Sight Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
